<script>
  document.addEventListener("DOMContentLoaded", function () {
    fetch("/browsing_context_suggestions.json")
      .then(response => response.json())
      .then(data => {
        let country = data.detected_values.country.handle;

        if (country !== "MY") {
          // Create popup container
          let popup = document.createElement("div");
          popup.innerHTML = `
            <div id="geo-popup" style="
              position: fixed;
              top: 0; left: 0;
              width: 100%; height: 100%;
              background: rgba(0,0,0,0.6);
              display: flex;
              align-items: center;
              justify-content: center;
              z-index: 9999;
            ">
              <div style="
                background: white;
                padding: 20px;
                max-width: 400px;
                text-align: center;
                border-radius: 12px;
                box-shadow: 0 4px 10px rgba(0,0,0,0.2);
              ">
                <h2 style="margin-bottom: 10px;">Notice</h2>
                <p>You are visiting our Malaysia store. If you wish to continue browsing, please acknowledge.</p>
                <button id="geo-close" style="
                  margin-top: 15px;
                  padding: 10px 20px;
                  border: none;
                  background: #000;
                  color: #fff;
                  border-radius: 6px;
                  cursor: pointer;
                ">I Understand</button>
              </div>
            </div>
          `;
          document.body.appendChild(popup);

          // Close popup on button click
          document.getElementById("geo-close").addEventListener("click", function () {
            document.getElementById("geo-popup").style.display = "none";
          });
        }
      });
  });
</script>
